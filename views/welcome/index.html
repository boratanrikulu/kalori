{{ define "content" }}

<section class="hero is-info">
	<div class="hero-body">
		<h1 class="title">
			That is simple.
		</h1>
		<p class="subtitle">
			to see calorie of your food, send image of it!
		</p>
	</div>
</section>
<p class="margin-20">Choose a image file.</p>
<form action="/recognize" enctype="multipart/form-data" method="post">
	<div class="field">
		<div id="file-js-example" class="file is-small has-name">
			<label class="file-label">
				<input class="file-input" type="file" name="file">
				<span class="file-cta">
					<span class="file-icon">
						<i class="fas fa-upload"></i>
					</span>
					<span class="file-label">
						Choose a fileâ€¦
					</span>
				</span>
				<span class="file-name">
					No file uploaded
				</span>
			</label>
		</div>
	</div>
	<div class="field">
		<div class="buttons margin-20">
			<button class="button is-info">Submit</button>
		</div>
	</div>
</form>

{{ end }}
{{ template "default" . }}

<script>
	const fileInput = document.querySelector('#file-js-example input[type=file]');
	fileInput.onchange = () => {
		if (fileInput.files.length > 0) {
			const fileName = document.querySelector('#file-js-example .file-name');
			fileName.textContent = fileInput.files[0].name;
		}
	}
</script>
